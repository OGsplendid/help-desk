{"version":3,"file":"main.js","mappings":"yBAEe,MAAMA,EACnB,WAAAC,CAAYC,GACVC,KAAKD,UAAYA,EAEjBC,KAAKC,OAASD,KAAKC,OAAOC,KAAKF,KACjC,CAEA,aAAOG,CAAOC,GACZ,MAAa,WAATA,EACK,scAWF,iEAEuBA,8nBAehC,CAEA,IAAAC,CAAKD,GACH,MAAME,EAAOT,EAAaM,OAAOC,GACjCJ,KAAKD,UAAUQ,mBAAmB,YAAaD,GACjCN,KAAKD,UAAUS,cAAc,UACpBA,cAAc,wBAC5BC,iBAAiB,QAAST,KAAKC,OAC1C,CAEA,MAAAA,GACE,MAAMS,EAAQV,KAAKD,UAAUS,cAAc,UACtCE,GACLA,EAAMT,QACR,ECnDa,MAAMU,EACnB,WAAAb,CAAYc,GACVZ,KAAKY,cAAgBA,EACrBZ,KAAKa,QAAUb,KAAKY,cAAcJ,cAAc,YAChDR,KAAKc,aAAe,IAAIjB,EAAaG,KAAKY,eAC1CZ,KAAKe,aAAef,KAAKa,QAAQL,cAAc,mBAE/CR,KAAKgB,gBAAkBhB,KAAKgB,gBAAgBd,KAAKF,MACjDA,KAAKiB,gBAAkBjB,KAAKiB,gBAAgBf,KAAKF,MACjDA,KAAKkB,gBAAkBlB,KAAKkB,gBAAgBhB,KAAKF,MAEjDA,KAAKa,QAAQJ,iBAAiB,QAASE,EAAIQ,kBAC3CnB,KAAKe,aAAaN,iBAAiB,QAAST,KAAKgB,iBACjDhB,KAAKa,QAAQJ,iBAAiB,QAAST,KAAKiB,iBAC5CjB,KAAKa,QAAQJ,iBAAiB,QAAST,KAAKkB,gBAC9C,CAEA,uBAAOC,CAAiBC,GACjBA,EAAEC,OAAOC,UAAUC,SAAS,aACjCH,EAAEC,OAAOC,UAAUE,OAAO,YAC5B,CAEA,eAAAR,GACEhB,KAAKc,aAAaT,KAAK,YAEvBoB,SAASjB,cAAc,sBAAsBC,iBAAiB,SAASiB,MAAON,IAC5EA,EAAEO,iBAEF,MAEMC,EAAM,CACVC,KAHuBJ,SAASjB,cAAc,sBAAsBsB,MAIpEC,YAHsBN,SAASjB,cAAc,2BAA2BsB,MAIxEE,QAAQ,GAEV,IACE,MAAMC,QAAiBC,MAAM,4CAA6C,CACxEC,GAAI,KACJC,OAAQ,OACRC,KAAMC,KAAKC,UAAUX,GACrBY,QAAS,CACP,eAAgB,sBAGdC,QAAaR,EAASQ,OAC5BC,QAAQC,IAAI,SAAUL,KAAKC,UAAUE,GACvC,CAAE,MAAOG,GACPF,QAAQE,MAAM,UAAWA,EAC3B,IAEJ,CAEA,eAAA3B,CAAgBG,GACTA,EAAEC,OAAOC,UAAUC,SAAS,gBACjCvB,KAAKc,aAAaT,KAAK,WACzB,CAEA,eAAAa,CAAgBE,GACTA,EAAEC,OAAOC,UAAUC,SAAS,gBACjCvB,KAAKc,aAAaT,KAAK,SACzB,EC3DU,IAAIM,EAAIc,SAASjB,cAAc,c","sources":["webpack://help-desk/./src/components/popup-creator/PopupCreator.js","webpack://help-desk/./src/components/app/App.js","webpack://help-desk/./src/js/app.js"],"sourcesContent":["import './popup.css';\n\nexport default class PopupCreator {\n  constructor(container) {\n    this.container = container;\n\n    this.remove = this.remove.bind(this);\n  }\n\n  static create(type) {\n    if (type === 'delete') {\n      return `\n      <form class=\"popup\" method=\"POST\" action=\"http://localhost:7070\">\n        <h3 class=\"popup-title\">Удалить тикет</h3>\n        <p class=\"popup-description\">Вы уверены, что хотите удалить тикет? Это действие необратимо</p>\n        <div class=\"popup-buttons\">\n          <button class=\"popup-button popup-cancel-button\">Отмена</button>\n          <button class=\"popup-button popup-save-button\">ОК</button>\n        </div>\n      </form>\n      `;\n    }\n    return `\n      <form class=\"popup\">\n        <h3 class=\"popup-title\">${type} тикет</h3>\n        <div class=\"input-section\">\n          <span class=\"input-title\">Краткое описание</span>\n          <input name=\"name\" class=\"input input-description\">\n        </div>\n        <div class=\"input-section\">\n          <span class=\"input-title\">Подробное описание</span>\n          <textarea name=\"price\" class=\"input input-full-description\"></textarea>\n        </div>\n        <div class=\"popup-buttons\">\n          <button type=\"button\" class=\"popup-button popup-cancel-button\">Отмена</button>\n          <button type=\"submit\" class=\"popup-button popup-save-button\">ОК</button>\n        </div>\n      </form>\n    `;\n  }\n\n  show(type) {\n    const html = PopupCreator.create(type);\n    this.container.insertAdjacentHTML('beforeend', html);\n    const popup = this.container.querySelector('.popup');\n    const closeBtn = popup.querySelector('.popup-cancel-button');\n    closeBtn.addEventListener('click', this.remove);\n  }\n\n  remove() {\n    const popup = this.container.querySelector('.popup');\n    if (!popup) return;\n    popup.remove();\n  }\n}\n","import PopupCreator from '../popup-creator/PopupCreator';\n\nexport default class App {\n  constructor(parentElement) {\n    this.parentElement = parentElement;\n    this.wrapper = this.parentElement.querySelector('.wrapper');\n    this.popupCreator = new PopupCreator(this.parentElement);\n    this.addTicketBtn = this.wrapper.querySelector('.add-new-ticket');\n\n    this.showCreatePopup = this.showCreatePopup.bind(this);\n    this.showChangePopup = this.showChangePopup.bind(this);\n    this.showDeletePopup = this.showDeletePopup.bind(this);\n\n    this.wrapper.addEventListener('click', App.toggleItemStatus);\n    this.addTicketBtn.addEventListener('click', this.showCreatePopup);\n    this.wrapper.addEventListener('click', this.showChangePopup);\n    this.wrapper.addEventListener('click', this.showDeletePopup);\n  }\n\n  static toggleItemStatus(e) {\n    if (!e.target.classList.contains('checkbox')) return;\n    e.target.classList.toggle('task-done');\n  }\n\n  showCreatePopup() {\n    this.popupCreator.show('Добавить');\n\n    document.querySelector('.popup-save-button').addEventListener('click', async (e) => {\n      e.preventDefault();\n\n      const shortDescription = document.querySelector('.input-description').value;\n      const fullDescription = document.querySelector('.input-full-description').value;\n      const obj = {\n        name: shortDescription,\n        description: fullDescription,\n        status: false,\n      };\n      try {\n        const response = await fetch('http://localhost:7070?method=createTicket', {\n          id: null,\n          method: 'POST',\n          body: JSON.stringify(obj),\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        });\n        const json = await response.json();\n        console.log('Успех:', JSON.stringify(json));\n      } catch (error) {\n        console.error('Ошибка:', error);\n      }\n    });\n  }\n\n  showChangePopup(e) {\n    if (!e.target.classList.contains('change-item')) return;\n    this.popupCreator.show('Изменить');\n  }\n\n  showDeletePopup(e) {\n    if (!e.target.classList.contains('delete-item')) return;\n    this.popupCreator.show('delete');\n  }\n}\n","import '../css/style.css';\nimport App from '../components/app/App';\n\nconst app = new App(document.querySelector('.container'));\n"],"names":["PopupCreator","constructor","container","this","remove","bind","create","type","show","html","insertAdjacentHTML","querySelector","addEventListener","popup","App","parentElement","wrapper","popupCreator","addTicketBtn","showCreatePopup","showChangePopup","showDeletePopup","toggleItemStatus","e","target","classList","contains","toggle","document","async","preventDefault","obj","name","value","description","status","response","fetch","id","method","body","JSON","stringify","headers","json","console","log","error"],"sourceRoot":""}