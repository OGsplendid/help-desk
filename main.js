!function(){"use strict";class t{constructor(t){this.container=t,this.remove=this.remove.bind(this)}static create(t){return"delete"===t?'\n      <form class="popup" method="POST" action="http://localhost:7070">\n        <h3 class="popup-title">Удалить тикет</h3>\n        <p class="popup-description">Вы уверены, что хотите удалить тикет? Это действие необратимо</p>\n        <div class="popup-buttons">\n          <button class="popup-button popup-cancel-button">Отмена</button>\n          <button class="popup-button popup-save-button">ОК</button>\n        </div>\n      </form>\n      ':`\n      <form class="popup">\n        <h3 class="popup-title">${t} тикет</h3>\n        <div class="input-section">\n          <span class="input-title">Краткое описание</span>\n          <input name="name" class="input input-description">\n        </div>\n        <div class="input-section">\n          <span class="input-title">Подробное описание</span>\n          <textarea name="price" class="input input-full-description"></textarea>\n        </div>\n        <div class="popup-buttons">\n          <button type="button" class="popup-button popup-cancel-button">Отмена</button>\n          <button type="submit" class="popup-button popup-save-button">ОК</button>\n        </div>\n      </form>\n    `}show(e){const n=t.create(e);this.container.insertAdjacentHTML("beforeend",n),this.container.querySelector(".popup").querySelector(".popup-cancel-button").addEventListener("click",this.remove)}remove(){const t=this.container.querySelector(".popup");t&&t.remove()}}class e{constructor(n){this.parentElement=n,this.wrapper=this.parentElement.querySelector(".wrapper"),this.popupCreator=new t(this.parentElement),this.addTicketBtn=this.wrapper.querySelector(".add-new-ticket"),this.showCreatePopup=this.showCreatePopup.bind(this),this.showChangePopup=this.showChangePopup.bind(this),this.showDeletePopup=this.showDeletePopup.bind(this),this.wrapper.addEventListener("click",e.toggleItemStatus),this.addTicketBtn.addEventListener("click",this.showCreatePopup),this.wrapper.addEventListener("click",this.showChangePopup),this.wrapper.addEventListener("click",this.showDeletePopup)}static toggleItemStatus(t){t.target.classList.contains("checkbox")&&t.target.classList.toggle("task-done")}showCreatePopup(){this.popupCreator.show("Добавить"),document.querySelector(".popup-save-button").addEventListener("click",(async t=>{t.preventDefault();const e={name:document.querySelector(".input-description").value,description:document.querySelector(".input-full-description").value,status:!1};try{const t=await fetch("http://localhost:7070?method=createTicket",{id:null,method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),n=await t.json();console.log("Успех:",JSON.stringify(n))}catch(t){console.error("Ошибка:",t)}}))}showChangePopup(t){t.target.classList.contains("change-item")&&this.popupCreator.show("Изменить")}showDeletePopup(t){t.target.classList.contains("delete-item")&&this.popupCreator.show("delete")}}new e(document.querySelector(".container"))}();
//# sourceMappingURL=main.js.map